[server.js content copied from canvas]